<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:form="sap.ui.layout.form"
  xmlns:core="sap.ui.core" >
  <Dialog id="dialog"
    title="Trader">
    <content>
      <form:SimpleForm
        editable="true"
        layout="ResponsiveGridLayout">
        <form:content>
          <Label text="Expert"/>
          <Select items="{
              model: 'data',
              path: '/Experts',
              parameters: {
                '$select': 'historyId',
                '$expand': 'History'
              }
            }"
            selectedKey="{draft>/expertId}">
            <core:Item key="{data>_id}" text="{data>History/asset}{data>History/currency} {data>History/period}"/>
          </Select>
          <Label text="Account"/>
          <Select items="{data>/Accounts}"
            selectedKey="{draft>/accountId}">
            <core:Item key="{data>_id}" text="{data>name}"/>
          </Select>
        </form:content>
      </form:SimpleForm>
    </content>
    <beginButton>
      <Button text="OK" press=".onOkPress"/>
    </beginButton>
    <endButton>
      <Button text="Cancel" press=".onCancelPress"/>
    </endButton>
  </Dialog>
</core:FragmentDefinition>
